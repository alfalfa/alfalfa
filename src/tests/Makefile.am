AM_CPPFLAGS = -I$(srcdir)/../util -I$(srcdir)/../decoder -I$(srcdir)/../format -I$(srcdir)/../encoder $(X264_CFLAGS) $(CXX11_FLAGS)
AM_CXXFLAGS = $(PICKY_CXXFLAGS) $(NODEBUG_CXXFLAGS)
LDADD = ../format/libalfalfavideo.a ../format/protobufs/libalfalfaprotobufs.a ../decoder/libalfalfadecoder.a ../encoder/libalfalfaencoder.a ../util/libalfalfautil.a $(X264_LIBS) $(PROTOBUF_LIBS)
check_PROGRAMS = extract-key-frames decode-to-stdout encode-loopback roundtrip \
		 state-collisions ivfcopy framedb-test trackdb-test \
                 framedb-benchmark ivfcompare import-test combine-test

extract_key_frames_SOURCES = extract-key-frames.cc
decode_to_stdout_SOURCES = decode-to-stdout.cc
encode_loopback_SOURCES = encode-loopback.cc
roundtrip_SOURCES = roundtrip.cc
switch_to_stdout_SOURCES = switch-to-stdout.cc
videodir_to_stdout_SOURCES = videodir-to-stdout.cc
state_collisions_SOURCES = state-collisions.cc
ivfcopy_SOURCES = ivfcopy.cc
framedb_test_SOURCES = framedb-test.cc
trackdb_test_SOURCES = trackdb-test.cc
import_test_SOURCES = import-test.cc
combine_test_SOURCES = combine-test.cc
framedb_benchmark_SOURCES = framedb-benchmark.cc
ivfcompare_SOURCES = ivfcompare.cc

dist_check_SCRIPTS = decoding-test roundtrip-verify switch-test ivfcopy-test end-to-end-import-test end-to-end-combine-test

TESTS = decoding-test encode-loopback roundtrip-verify framedb-test ivfcopy-test trackdb-test end-to-end-import-test end-to-end-combine-test # switch-test
